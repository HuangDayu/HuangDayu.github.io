---
title: Java新特性之重复注解
date: 2019-04-11 13:28:19
categories:
- 后端开发
tags:
- Java新特性
layout: post
published: true
comments: true
---

# 什么是重复注解

&emsp;&emsp;同一个地方（类、方法、成员变量、局部变量、泛型类、父类、接口、接口的实现）可以重复声明同一个注解。   

# 为什么要重复注解

&emsp;&emsp;Java5引入了注解机制，但是使用注解的一个限制是相同的注解在同一位置只能声明一次，不能声明多次。  

<!-- more -->

# 如何实现重复注解

**`@Repeatable`注解是关键:表示该注解是一个可以重复的注解。**  

## 实例

说明：**ElementType.TYPE_USE**和**ElementType.TYPE_PARAMETER**是用于描述适当的注解上下文的元素类型。  

```java
/**
 * @author huangdayu.cn
 */
public class Test6 {
	
	@Target( ElementType.TYPE )
    @Retention( RetentionPolicy.RUNTIME )
	public @interface Run {
		
	}
	
	@Target( ElementType.TYPE )
    @Retention( RetentionPolicy.RUNTIME )
	public @interface Eats {
		/***
		 * 表示返回一个注解数组，方法名必须是value()
		 * @return
		 */
		Eat[] value();
	}
	
	@Target( ElementType.TYPE )
    @Retention( RetentionPolicy.RUNTIME )
	@Repeatable( Eats.class )//制作一个可重复的注解
	public @interface Eat {
		
	}
	
	/***
	 * @Eat 可以重复注解
	 * @Run 不可以重复注解
	 *
	 */
	@Eat
	@Eat
	@Run
	public @interface Animal {
		
	}
}
```

# 参考文献

[Java 8 新特性](http://www.runoob.com/java/java8-new-features.html)  
[Java 8新特性终极指南](http://www.importnew.com/11908.html)  