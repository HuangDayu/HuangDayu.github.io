---
title: Java新特性之接口的兼容
date: 2019-04-11 10:33:01
categories:
- 后端开发 
tags:
- Java
- Java新特性
layout: post
published: true
comments: true
---

# 什么是接口的兼容

&emsp;&emsp;Java 8引入了**默认方法**和**静态方法**，这两个方法可以直接在接口中写实现，不影响接口的实现类，也就是解决了接口兼容的问题。  

# 为什么要接口的兼容

&emsp;&emsp;Java 8之前，每一次对接口的修改都会影响其的全部实现。  

## 注意

- 实现类中不可以重写静态方法
- 实现类中可以重写默认方法，需要去掉`default`关键字
- 实现类中可以通过`类.super.默认方法`对默认方法进行重载
- 接口中的默认方法通过`对象.方法`调用
- 接口中的静态方法通过`类.方法`调用

<!-- more -->

# 什么是默认方法

&emsp;&emsp;被**`default`** 关键字修饰的方法。

# 什么是静态方法

&emsp;&emsp;被**`static`** 关键字修饰的方法。

# 如何实现接口的兼容

## 接口实例

```java
public interface Animal {
	public default void run() {
		System.out.println("run");
	};
	
	public static void eat() {
		System.out.println("eat");
	}
	
	public static void sleep() {
		System.out.println("sleep");
	}
}
```

## 实现类实例

```java
public class Dog implements Animal {
	
//  报错	
//	@Override
//	public default void run() {
//		Animal.super.run();
//	};
	
	@Override
	public void run() {
		System.out.println("dog run");
	};

	public void run2() {
		Animal.super.run();
	};

//  报错
//	@Override
//	public static void eat() {
//		System.out.println("eat");
//	}

//  报错
//	@Override
//	public void eat() {
//		System.out.println("eat");
//	}
	
	public static void eat() {
		System.out.println("dog eat");
	}
	
	public static void sleep() {
		System.out.println("dog sleep");
	}
	
	public static void main(String[] args) {
		Animal a = new Dog();
		a.run();
		
		Animal.eat();
		Animal.sleep();
	}
}
```

## 输出结果

```verilog
dog run
eat
sleep
```

# 参考文献

[Java 8 新特性](http://www.runoob.com/java/java8-new-features.html)  
[Java 8新特性终极指南](http://www.importnew.com/11908.html)  